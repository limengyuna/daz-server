# ===========================
# 应用基础配置
# ===========================
spring.application.name=partner-gateway
server.port=8080

# ===========================
# Nacos 服务发现配置 (暂时禁用，使用静态路由)
# ===========================
spring.cloud.nacos.discovery.enabled=false
spring.cloud.nacos.discovery.server-addr=127.0.0.1:8848

# ===========================
# Nacos 配置中心 (暂时禁用)
# ===========================
spring.cloud.nacos.config.enabled=false

# ===========================
# Gateway 路由配置 - 用户服务
# ===========================
spring.cloud.gateway.routes[0].id=partner-user
spring.cloud.gateway.routes[0].uri=http://localhost:8081
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/auth/**,/api/user/**
spring.cloud.gateway.routes[0].filters[0]=StripPrefix=0

# ===========================
# Gateway 路由配置 - 帖子服务
# ===========================
spring.cloud.gateway.routes[1].id=partner-post
spring.cloud.gateway.routes[1].uri=http://localhost:8082
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/activities/**,/api/categories/**,/api/participants/**,/api/my/**,/api/moments/**
spring.cloud.gateway.routes[1].filters[0]=StripPrefix=0

# ===========================
# Gateway 路由配置 - 文件服务
# ===========================
spring.cloud.gateway.routes[2].id=partner-file
spring.cloud.gateway.routes[2].uri=http://localhost:8083
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/file/**
spring.cloud.gateway.routes[2].filters[0]=StripPrefix=0

# ===========================
# 跨域配置 (CORS) - 已移至 CorsConfig.java
# ===========================
# spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-origins=*
# spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-methods=GET,POST,PUT,DELETE,OPTIONS
# spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-headers=*
# spring.cloud.gateway.globalcors.cors-configurations.[/**].exposed-headers=Authorization,Content-Type
# spring.cloud.gateway.globalcors.cors-configurations.[/**].allow-credentials=false
# spring.cloud.gateway.globalcors.cors-configurations.[/**].max-age=3600

# ===========================
# Sentinel 熔断降级配置
# ===========================
spring.cloud.sentinel.transport.dashboard=127.0.0.1:8858
spring.cloud.sentinel.transport.port=8721

# ===========================
# Actuator 健康检查
# ===========================
management.endpoints.web.exposure.include=health,info,gateway
management.endpoint.health.show-details=always
